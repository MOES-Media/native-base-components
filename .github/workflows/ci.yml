name: CI/Quality Check

on:
  workflow_run:
    workflows:
      - "Create Release PR"
    types:
      - completed
  pull_request:
    types:
      - opened
  push:
    branches:
      - release/feat/**
      - feat/**

jobs:
  CI-Quality-Gate:
    runs-on:
      - ubuntu-latest

    permissions:
      security-events: write

    steps:
      - uses: actions/checkout@v3
        with:
          persist-credentials: false
      - name: ðŸ¤– Yarn install
        uses: ./.github/actions/yarn-install
        with:
          GITHUB_TOKEN: ${{secrets.CI_TOKEN}}
      - name: ðŸš¦ Qualtiy Gate
        uses: ./.github/actions/quality
