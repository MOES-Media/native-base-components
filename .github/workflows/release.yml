name: Release native-base-components
on:
  push:
    branches:
      - main

jobs:
  Release:
    runs-on:
      - ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          persist-credentials: false

      - name: ðŸ¤– Yarn install
        uses: ./.github/actions/yarn-install
        with:
          GITHUB_TOKEN: foobar
      
      - name: ðŸ“– Documentation
        uses: ./.github/actions/docs

      - name: Release native-base-components
        run: yarn release
        env:
          GITHUB_TOKEN: ${{ secrets.RELEASE_TOKEN }}
      - name: Publish native-base-components
        run: npm publish
        env:
          GITHUB_TOKEN: ${{ secrets.RELEASE_TOKEN }}
